!function(t){t(document).ready(function(){function e(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=i.exec(e)&&(t=parseFloat(RegExp.$1))}var n=!(!navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/));return n&&(t=11),t}function i(){for(var t=document.createElement("div"),e=!1,i=["perspectiveProperty","WebkitPerspective"],n=i.length-1;n>=0;n--)e=e?e:void 0!=t.style[i[n]];if(e){var o=document.createElement("style");o.textContent="@media (-webkit-transform-3d){#test3d{height:3px}}",document.getElementsByTagName("head")[0].appendChild(o),t.id="test3d",document.body.appendChild(t),e=3===t.offsetHeight,o.parentNode.removeChild(o),t.parentNode.removeChild(t)}return e}function n(t,e){return t.stop(!0,!0),void 0!=t.data("autoflip")&&void 0!=e&&(s[e]=setTimeout(function(){n(t,e)},t.data("autoflip"))),"true"!=t.data("mouse")?a?(t.find("div.front").fadeToggle(),void t.find("div.back").fadeToggle()):void("right"===t.data("direction")?t.toggleClass("flipping-right"):"left"===t.data("direction")?t.toggleClass("flipping-left"):"top"===t.data("direction")?t.toggleClass("flipping-top"):"bottom"===t.data("direction")&&t.toggleClass("flipping-bottom")):void 0}function o(){d.each(function(e){$this=t(this),function(t){var i=t.data("start");void 0==i&&(i=t.data("autoflip")),s[e]=setTimeout(function(){n(t,e)},i)}($this)})}var a=!1;-1!=e()&&(a=!0);var r=function(){var t=document.createElement("div"),e="Khtml Ms O Moz Webkit".split(" "),i=e.length;return function(n){if(n in t.style)return!0;for(n=n.replace(/^[a-z]/,function(t){return t.toUpperCase()});i--;)if(e[i]+n in t.style)return!0;return!1}}();r("backfaceVisibility")||(a=!0),is_chrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&!!window.chrome,is_safari=navigator.userAgent.toLowerCase().indexOf("safari")>-1&&!window.chrome,(is_chrome||is_safari)&&(i()||(a=!0)),a&&(jQuery("div.card-container").addClass("noCSS3Container"),jQuery(".card").addClass("noCSS3Card"),jQuery(".card").children("div").addClass("noCSS3Sides"),jQuery(".back").hide()),t(".over").parents(".card-container").on("mouseenter",function(){$this=t(this),$this.hasClass("mouseenter")||$this.addClass("mouseenter"),n($this.find(".over"))}),t(".over").parents(".card-container").on("mouseleave",function(){$this=t(this),$this.hasClass("mouseenter")&&n($this.find(".over"))}),t(".click").on("click",function(){$this=t(this),n($this)}),t(".click").on("click",".ignoreEvent",function(t){t.stopPropagation()}),t(".card").on("click",".cbutton",function(e){e.preventDefault(),$this=t(this),n($this.parents(".card"))});var s=Array(),d=t(".card[data-autoflip]");o();var c=function(){for(var t=0;t<s.length;t++)clearTimeout(s[t]);d.removeClass("flipping-right"),d.removeClass("flipping-left"),d.removeClass("flipping-top"),d.removeClass("flipping-bottom"),o()};window.addEventListener?window.addEventListener("focus",c,!1):window.attachEvent&&window.attachEvent("onfocus",c),d.on("mouseenter",function(){t(this).data("mouse","true")}),d.on("mouseleave",function(){t(this).data("mouse","false")});var u=function(t,e){if(""!=e&&void 0!=e){{var i;e.split(":")[0],e.split(":")[1],t.width()}i=window.getComputedStyle?getComputedStyle(t[0],null):t[0].currentStyle,t.height(t.outerWidth())}},l=function(){t(".card-container").each(function(){var e=t(this),i=e.data("ratio");u(e,i)})};l(),t(window).on("resize",function(){l()})})}(jQuery);